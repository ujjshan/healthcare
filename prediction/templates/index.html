<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>disease prediction</title>
  </head>
  <body class="bg- bggg" style="background: url(/image.jpg)no-repeat center center/cover
  ;" >
    <div class="container border-0">
      <div class="row border-0">
        <div class="card mt-100" style="width: 100%; height= 100%">
          <div class="class header text-center">
            <h1>Welcome to Disease Prediction</h1>
          </div>
        </div>
        <div class="card body border-0" style="width: 100%; height= 100%">
          <form method="post" action="#" accept-charset="utf-8">

            <div class=" columns-7xl form-group">
              <label><b>Select Sypmtom 1</b></label>
              <select class="selectpicker form-control" id="symptom_1" name="symptom_1" required="1">

                {% for symptom_1 in symptom1 %}
                 <option value="{{ symptom_1 }}">{{symptom_1}}</option>
                {% endfor %}

              </select>
            </div>
            <div class=" col-300 form-group">
              <label><b>Select Sypmtom 2</b></label>
              <select class="selectpicker form-control" id="symptom_2" name="symptom_2" required="1">
                
                {% for symptom_2 in symptom2 %}
                 <option value="{{ symptom_2 }}">{{symptom_2}}</option>
                {% endfor %}

              </select>
            </div>
            <div class=" col-300 form-group">
              <label><b>Select Sypmtom 3</b></label>
              <select class="selectpicker form-control" id="symptom_3" name="symptom_3" required="1">

                {% for symptom_3 in symptom3 %}
                 <option value="{{ symptom_3 }}">{{symptom_3}}</option>
                {% endfor %}

              </select>
            </div>
            <div class=" col-300 form-group">
              <label><b>Select Sypmtom 4</b></label>
              <select class="selectpicker form-control" id="symptom_4" name="symptom_4" required="1">

                {% for symptom_4 in symptom4 %}
                 <option value="{{ symptom_4 }}">{{symptom_4}}</option>
                {% endfor %}

              </select>
            </div>
            <div class=" col-300 form-group">
              <label><b>Select Sypmtom 5</b></label>
              <select class="selectpicker form-control" id="symptom_5" name="symptom_5" required="1">

                {% for symptom_5 in symptom5 %}
                 <option value="{{ symptom_5 }}">{{symptom_5}}</option>
                {% endfor %}

              </select>
            </div>
            <div class="col-3 form-group" style="margin-left:380px;">
              <button class="btn-primary form-control"onclick="send_data()">Predict</button>
            </div>
          </form>  
          <br>
          <div class="row">
            <div class="col-12" style="text-align: center">
              <h3><span id="prediction"></span></h3>
            </div>
        </div>
      </div>

    </div>
    <script>
      function form_handler(event)
    {
      event.preventDefault();
    }

    function send_data()
    {
      document.querySelector('form').addEventListener('submit', form_handler);

      var form_data = new FormData(document.querySelector('form'));
      console.log(form_data)
      var xhr = new XMLHttpRequest();

      xhr.open('POST','/predict',true);
      document.getElementById("prediction").innerHTML="Wait! Predicting Disease....";

      xhr.onreadystatechange= function()
      {
        if(xhr.readyState == XMLHttpRequest.DONE)
        {
          document.getElementById("prediction").innerHTML="you may be suffering from: "+xhr.responseText;
          
        }
      }
      xhr.onload=function(){};
      xhr.send(form_data);

    }
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>